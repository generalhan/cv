;-----------------------------------------------------------------------------
;        ,     -  OSBT
;-----------------------------------------------------------------------------
.MODEL TINY
.CODE
;-----------------------------------------------------------------------------
    ORG 100H
START:
    ;-------------------------------------------------------------------------
    ;                       
    ;-------------------------------------------------------------------------
    JMP DATA
      J   DW 0
      JI  DB 0
      STROKA DB 'LOADING OF OS, PLEASE WAIT...' ;29 
    DATA:
    ;-------------------------------------------------------------------------
    ;                     
    ;-------------------------------------------------------------------------
    MOV AH,00h
    MOV AL,02h
    INT 10h
    MOV AH,02H
    XOR AL,AL
    XOR BX,BX
    MOV DH,100
    MOV DL,0
    INT 10H
    ;------------------- -----------------------------------------
    MOV AX,0B800h
    MOV ES,AX
    MOV CX,29
    MOV DI,1010
    MOV SI,7B00H+OFFSET STROKA
    PUSH DS
    XOR AX,AX
    MOV DS,AX
    CIL:
        MOV AH,7
        MOV AL,DS:[SI]
        MOV ES:[DI],AX
        ADD DI,2
        INC SI
    LOOP CIL
    POP DS 
    ;-------------------------------------------------------------------------
    MOV AX,0FFFH  ;  2    0:10000H = 0FFFH:0010H
    MOV ES,AX
    MOV CX,11     ;   57  ( + )
    MOV J,0
    MOV JI,8
    MOV DI,1140
    CIKL_UST:
          PUSH CX
            MOV AH,02H
            MOV AL,01 ;  
            MOV BX,410H
            ADD BX,J
            ADD J,512
            MOV CH,00 ;
            MOV CL,JI ; 
            INC JI
            MOV DH,00 ;
            MOV DL,00 ; 0
            INT 13H
          ;-----------------PROGRESSBAR---------------------------------------
          PUSH ES
            MOV AX,0B800h
            MOV ES,AX
            MOV AH,31
            MOV AL,20H
            MOV ES:[DI],AX
            ADD DI,2
          POP ES 
          ;-------------------------------------------------------------------
          POP CX
    LOOP CIKL_UST
    ;-------------------------------------------------------------------------
    MOV CX,18     ;   57  ( + )
    MOV JI,1
    CIKL_UST1:
          PUSH CX
            MOV AH,02H
            MOV AL,01 ;  
            MOV BX,410H
            ADD BX,J
            ADD J,512
            MOV CH,01 ;
            MOV CL,JI ; 
            INC JI
            MOV DH,00 ;
            MOV DL,00 ; 0
            INT 13H
          ;-----------------PROGRESSBAR---------------------------------------
          PUSH ES
            MOV AX,0B800h
            MOV ES,AX
            MOV AH,31
            MOV AL,20H
            MOV ES:[DI],AX
            ADD DI,2
          POP ES 
          ;-------------------------------------------------------------------
          POP CX
    LOOP CIKL_UST1
    ;-------------------------------------------------------------------------
    MOV CX,18     ;   57  ( + )
    MOV JI,1
    CIKL_UST2:
          PUSH CX
            MOV AH,02H
            MOV AL,01 ;  
            MOV BX,410H
            ADD BX,J
            ADD J,512
            MOV CH,02 ;
            MOV CL,JI ; 
            INC JI
            MOV DH,00 ;
            MOV DL,00 ; 0
            INT 13H
          ;-----------------PROGRESSBAR---------------------------------------
          PUSH ES
            MOV AX,0B800h
            MOV ES,AX
            MOV AH,31
            MOV AL,20H
            MOV ES:[DI],AX
            ADD DI,2
          POP ES 
          ;-------------------------------------------------------------------
          POP CX
    LOOP CIKL_UST2
    ;-------------------------------------------------------------------------
    MOV CX,10     ;   57  ( + )
    MOV JI,1
    CIKL_UST3:
          PUSH CX
            MOV AH,02H
            MOV AL,01 ;  
            MOV BX,410H
            ADD BX,J
            ADD J,512
            MOV CH,03 ;
            MOV CL,JI ; 
            INC JI
            MOV DH,00 ;
            MOV DL,00 ; 0
            INT 13H
          ;-----------------PROGRESSBAR---------------------------------------
          PUSH ES
            MOV AX,0B800h
            MOV ES,AX
            MOV AH,31
            MOV AL,20H
            MOV ES:[DI],AX
            ADD DI,2
          POP ES 
          ;-------------------------------------------------------------------
          POP CX
    LOOP CIKL_UST3
    ;-------------------------------------------------------------------------
    ;                          
    ;-------------------------------------------------------------------------
    DB 0EAh
    DD 0FFF0410H
END START



