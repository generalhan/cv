;-----------------------------------------------------------------------------
;--------------------------------åÖçû îÄâã------------------------------------
;-----------------------------------------------------------------------------
.MODEL SMALL
.STACK 100H
.DATA
 ;----------------------------------------------------------------------------
 GLOBAL PAR1:WORD
 GLOBAL PAR2:WORD
 GLOBAL PAR3:WORD
 GLOBAL PAR4:WORD
 GLOBAL PAR5:BYTE
 ;----------------------------------------------------------------------------
 GLOBAL RAM1:WORD
 GLOBAL RAM2:WORD
 GLOBAL RAM3:WORD
 GLOBAL RAM4:WORD
 ;----------------------------------------------------------------------------
 GLOBAL RW:BYTE
 GLOBAL FILE:PROC
 GLOBAL WHO_PROC:PROC
 GLOBAL FILE_PROC:PROC
 ;----------------------------------------------------------------------------
 FILE@ DB 'FILE'
 WHO DB 'DITUD 2004 BT-21'
 Q1 DW 0
 Q2 DW 0
 ;----------------------------------------------------------------------------
.386
.CODE
 EXTRN WINDOW_ZAGOLOBOK:NEAR
 EXTRN FILE_POLE:NEAR
 EXTRN RAMA:NEAR
;------------------------TELO-------------------------------------------------
FILE PROC
        MOV AX,0B800H
        MOV ES,AX
        MOV AX,@DATA
        MOV DS,AX
        ;---------------------------------------------------------------------
        MOV PAR1,3
        MOV PAR2,7
        MOV PAR3,3
        MOV PAR4,20
        MOV PAR5,120
        CALL WINDOW_ZAGOLOBOK
        ;---------------------------------------------------------------------
        MOV RAM1,162
        MOV RAM2,18
        MOV RAM3,5     
        CALL RAMA
        ;---------------------------------------------------------------------
        CALL FILE_POLE
      RET
FILE ENDP
;-----------------------------------------------------------------------------
;-------------------------àçëíàíìí, ÉêìèèÄ à ÉéÑ------------------------------
;-----------------------------------------------------------------------------
WHO_PROC PROC
         MOV AX,0B800H
         MOV ES,AX
         MOV DI,60
         MOV AH,RW
         MOV CX,10H
         LEA SI,WHO
         CIKL_WHO_PROC:
                       MOV AL,[SI]
                       MOV ES:[DI],AX
                       ADD DI,2
                       INC SI
         LOOP CIKL_WHO_PROC
         RET
WHO_PROC ENDP
;-----------------------------------------------------------------------------
;-------------------------------äçéèäÄ FILE-----------------------------------
;-----------------------------------------------------------------------------
FILE_PROC PROC
         MOV AX,0B800H
         MOV ES,AX
         MOV DI,2
         MOV AH,RW
         MOV CX,4
         LEA SI,FILE@
         CIKL_FILE_PROC:
                       MOV AL,[SI]
                       MOV ES:[DI],AX
                       ADD DI,2
                       INC SI
         LOOP CIKL_FILE_PROC
         RET
FILE_PROC ENDP
;-----------------------------------------------------------------------------
END
